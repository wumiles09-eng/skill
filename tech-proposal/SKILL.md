# Tech Proposal - 技术可行性评估

## 适用范围

**触发条件**: 需求澄清后，设计/实现前
**输出物**: 技术方案对比、推荐方案、风险评估
**工作时机**: Phase 1 结束，Phase 2 开始前

---

## 核心原则

### 1. 至少两案对比
- 方案 A vs 方案 B
- 从成本、时间、风险多维度评估
- 给出明确推荐

### 2. 量化评估
- 成本（开发成本、运维成本）
- 时间（开发周期、上线时间）
- 风险（技术风险、业务风险）
- 性能（响应时间、吞吐量）

### 3. 风险前置
- 明确失败模式
- 准备回退方案
- 识别技术债务

---

## 执行步骤

### Step 1: 需求复盘

**输入**: 需求澄清记录
**输出**: 
- 核心功能点
- 非功能需求（性能、安全、可用性）
- 约束条件

---

### Step 2: 方案列举

**至少提供 A/B 两案**:
- 方案 A: {技术路径描述}
- 方案 B: {技术路径描述}
- （可选）方案 C: {技术路径描述}

**每个方案包含**:
- 技术栈选型
- 架构设计概要
- 关键技术点
- 依赖服务

---

### Step 3: 多维度评估

**评估维度**:

| 维度 | 方案 A | 方案 B | 说明 |
|-----|--------|--------|------|
| 开发成本 | 高/中/低 | 高/中/低 | 人天估算 |
| 运维成本 | 高/中/低 | 高/中/低 | 服务器/API 费用 |
| 开发周期 | X 周 | Y 周 | 上线时间 |
| 性能 | 高/中/低 | 高/中/低 | 响应时间/吞吐量 |
| 可扩展性 | 高/中/低 | 高/中/低 | 未来演进难度 |
| 技术风险 | 高/中/低 | 高/中/低 | 不确定性 |
| 团队熟悉度 | 高/中/低 | 高/中/低 | 学习成本 |

---

### Step 4: 风险与缓解

**风险识别**:
- 技术风险（新技术、依赖服务）
- 业务风险（性能、安全、合规）
- 资源风险（人力、时间、预算）

**缓解措施**:
- 技术预研（POC、压测）
- 备选方案（降级、回退）
- 监控与告警

---

### Step 5: 结论与下一步

**推荐方案**: 方案 X
**推荐理由**: {理由}
**拒绝理由**: {为什么不选其他方案}

**下一步行动**:
- [ ] 技术预研（如需要）
- [ ] 架构设计
- [ ] API 设计
- [ ] 数据库设计

**待确认项**:
| 序号 | 待确认内容 | 影响 | 负责人 | 截止日期 |
|-----|----------|------|--------|---------|
| 1 |  |  |  |  |

---

## VerveFlow 特定场景

### 场景1：录音转文字技术方案

**需求**: 实时录音 + AI 转写

**方案 A: 使用 OpenAI Whisper API**
- **技术栈**: iOS 录音 → 上传到 Go 后端 → 调用 Whisper API
- **优点**: 
  - 准确率高（95%+）
  - 开发周期短（2 周）
  - 无需自建模型
- **缺点**: 
  - API 费用（$0.006/分钟）
  - 依赖外部服务
  - 网络延迟

**方案 B: 自建 Whisper 模型**
- **技术栈**: iOS 录音 → 上传到 Go 后端 → 自建 Whisper 服务
- **优点**: 
  - 长期成本低
  - 数据隐私可控
  - 无外部依赖
- **缺点**: 
  - 开发周期长（4-6 周）
  - 需要 GPU 服务器
  - 运维复杂度高

**评估对比**:

| 维度 | 方案 A (Whisper API) | 方案 B (自建) |
|-----|---------------------|--------------|
| 开发成本 | 低（2 周） | 高（4-6 周） |
| 运维成本 | 中（API 费用） | 高（GPU 服务器） |
| 准确率 | 95%+ | 95%+ |
| 响应时间 | 2-5s | 1-3s |
| 可扩展性 | 高 | 中 |
| 技术风险 | 低 | 中 |
| 数据隐私 | 中 | 高 |

**推荐方案**: 方案 A（Whisper API）
**推荐理由**: 
- MVP 阶段优先快速验证
- 开发周期短，2 周可上线
- 准确率满足需求
- 后期可根据用量决定是否自建

**风险与缓解**:
- **风险**: API 费用随用户增长
  - **缓解**: 设置用量监控，超阈值时切换自建
- **风险**: 外部服务不可用
  - **缓解**: 实现重试机制，失败时提示用户

---

## 验收标准

### 内容完整性
- [ ] 至少两个方案对比
- [ ] 多维度评估（成本/时间/风险/性能）
- [ ] 明确推荐方案与理由
- [ ] 风险与缓解措施

### 可执行性
- [ ] 技术栈明确
- [ ] 开发周期可估算
- [ ] 风险可控
- [ ] 有下一步行动计划

---

## 输出模板

```markdown
# 技术方案评估 - {功能名称}

## 一、需求复盘
- **核心功能**: {功能描述}
- **非功能需求**: {性能/安全/可用性}
- **约束条件**: {时间/预算/技术}

## 二、方案对比

### 方案 A: {方案名称}
- **技术栈**: {技术栈}
- **架构**: {架构描述}
- **优点**: {优点列表}
- **缺点**: {缺点列表}

### 方案 B: {方案名称}
- **技术栈**: {技术栈}
- **架构**: {架构描述}
- **优点**: {优点列表}
- **缺点**: {缺点列表}

## 三、评估对比

| 维度 | 方案 A | 方案 B | 说明 |
|-----|--------|--------|------|
| 开发成本 |  |  |  |
| 运维成本 |  |  |  |
| 开发周期 |  |  |  |
| 性能 |  |  |  |
| 可扩展性 |  |  |  |
| 技术风险 |  |  |  |

## 四、风险与缓解

| 风险 | 影响 | 概率 | 缓解措施 |
|-----|------|------|---------|
|  | 高/中/低 | 高/中/低 |  |

## 五、结论

**推荐方案**: 方案 X
**推荐理由**: {理由}
**拒绝理由**: {为什么不选其他方案}

## 六、下一步行动

- [ ] {行动项1}
- [ ] {行动项2}

## 七、待确认项

| 序号 | 待确认内容 | 影响 | 负责人 | 截止日期 | 结论 |
|-----|----------|------|--------|---------|-----|
| 1 |  |  |  |  |  |

---

**创建时间**: {日期}
**负责人**: {姓名}
**状态**: 待确认 / 已确认
```

---

## 版本历史

| 版本 | 日期 | 变更内容 |
|-----|------|---------|
| v1.0 | 2026-01-26 | 初始版本 |

---

**相关 Skill**: 
- `[[requirement-clarifier]]`
- `[[architecture-designer]]`
